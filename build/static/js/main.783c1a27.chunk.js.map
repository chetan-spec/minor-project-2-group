{"version":3,"sources":["firebase/config.js","Context/GlobalState.js","components/ProgressBar.js","components/UploadModal.js","components/Navbar.js","components/PostComment.js","components/PostModal.js","components/Post.js","components/Posts.js","components/Sidebar.js","components/Home.js","components/LoadingInstagram.js","components/Login.js","components/Signup.js","components/SetProfile.js","PrivateRoute.js","App.js","reportWebVitals.js","index.js"],"names":["firebaseConfig","apiKey","process","REACT_APP_API_KEY","authDomain","REACT_APP_AUTH_DOMAIN","projectId","REACT_APP_PROJECT_ID","storageBucket","REACT_APP_STORAGE_BUCKET","messagingSenderId","REACT_APP_MESSAGING_SENDER_ID","appId","REACT_APP_APP_ID","measurementId","REACT_APP_MEASUREMENT_ID","firebaseApp","firebase","initializeApp","auth","storage","db","firestore","Context","createContext","ContextProvider","children","history","useHistory","useState","user","setUser","isPageLoading","setIsPageLoading","OAuthError","setOAuthError","authError","setAuthError","value","signup","email","username","fullName","password","redirect","disableLoading","createUserWithEmailAndPassword","then","result","collection","add","uid","photoURL","where","get","snapshot","docs","map","doc","data","catch","err","message","login","signInWithEmailAndPassword","id","logout","signOut","alert","loginWithGoogle","provider","GoogleAuthProvider","signInWithPopup","userExists","undefined","googleUser","push","console","log","Provider","ProgressBar","progress","className","style","width","UploadModal","open","handleClose","file","setFile","caption","setCaption","allowedTypes","error","setError","setProgress","isUploading","setIsUploading","useContext","useEffect","Modal","onClose","href","onClick","onSubmit","e","preventDefault","includes","type","storageRef","ref","name","put","on","percent","bytesTransferred","totalBytes","Math","floor","a","getDownloadURL","url","timestamp","FieldValue","serverTimestamp","onChange","target","files","htmlFor","cols","rows","placeholder","disabled","Navbar","setOpen","useDropdownMenu","buttonProps","itemProps","isOpen","to","Avatar","alt","displayName","src","role","PostComment","comment","PostModal","post","isModal","setIsModal","comments","setComments","onSnapshot","snap","Post","setComment","postComments","setPostComments","orderBy","title","slice","Posts","posts","setPosts","length","Sidebar","App","LoadingInstagram","unsubscribe","onAuthStateChanged","currentUser","transform","color","Login","setEmail","setPassword","isLoading","setIsLoading","required","CircularProgress","size","Signup","setUsername","setFullName","SetProfile","updatePassword","update","PrivateRoute","Component","component","rest","render","props","pathname","state","from","location","path","exact","Home","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"0RAGMA,EAAiB,CACrBC,OAAQC,mIAAYC,kBACpBC,WAAYF,mIAAYG,sBACxBC,UAAWJ,mIAAYK,qBACvBC,cAAeN,mIAAYO,yBAC3BC,kBAAmBR,mIAAYS,8BAC/BC,MAAOV,mIAAYW,iBACnBC,cAAeZ,mIAAYa,0BAGvBC,EAAcC,IAASC,cAAclB,GAE9BmB,EAAOH,EAAYG,OACnBC,EAAUJ,EAAYI,UACtBC,EAAKL,EAAYM,Y,OCZjBC,EAAUC,wBAAc,IAEtB,SAASC,EAAT,GAAwC,IAAbC,EAAY,EAAZA,SAClCC,EAAUC,cADoC,EAE5BC,mBAAS,IAFmB,mBAE7CC,EAF6C,KAEvCC,EAFuC,OAGVF,oBAAS,GAHC,mBAG7CG,EAH6C,KAG9BC,EAH8B,OAIhBJ,mBAAS,MAJO,mBAI7CK,EAJ6C,KAIjCC,EAJiC,OAKlBN,mBAAS,MALS,mBAK7CO,EAL6C,KAKlCC,EALkC,KAsI9CC,EAAQ,CACZR,OACAC,UACAQ,OA5Ga,SACbC,EACAC,EACAC,EACAC,EACAC,EACAC,GAEA1B,EACG2B,+BAA+BN,EAAOG,GACtCI,MAAK,SAACC,GAEL3B,EAAG4B,WAAW,SAASC,IAAI,CACzBC,IAAKH,EAAOlB,KAAKqB,IACjBV,WACAC,WACAU,SAAUJ,EAAOlB,KAAKsB,WAIxB/B,EAAG4B,WAAW,SACXI,MAAM,MAAO,KAAML,EAAOlB,KAAKqB,KAC/BG,MACAP,MAAK,SAACQ,GACLxB,EAAQwB,EAASC,KAAKC,KAAI,SAACC,GAAD,sBAAeA,EAAIC,WAAW,IAExDd,IAGAD,UAGLgB,OAAM,SAACC,GACNhB,IACAR,EAAawB,EAAIC,aA2ErBC,MAnIY,SAACvB,EAAOG,EAAUC,EAAUC,GACxC1B,EACG6C,2BAA2BxB,EAAOG,GAClCI,MAAK,SAACC,GACL3B,EAAG4B,WAAW,SACXI,MAAM,MAAO,KAAML,EAAOlB,KAAKqB,KAC/BG,MACAP,MAAK,SAACQ,GACLxB,EACEwB,EAASC,KAAKC,KAAI,SAACC,GAAD,oBAAYO,GAAIP,EAAIO,IAAOP,EAAIC,WAAW,IAG9Dd,IACAD,UAGLgB,OAAM,SAACC,GACNxB,EAAawB,EAAIC,SACjBjB,QAkHJqB,OAxEa,SAACtB,GACdzB,EACGgD,UACApB,MAAK,WAEJhB,EAAQ,IAGRa,OAEDgB,OAAM,SAACC,GAAD,OAASO,MAAMP,OA+DxBQ,gBA5DsB,WACtB,IAAMC,EAAW,IAAIrD,IAASE,KAAKoD,mBAEnCpD,EACGqD,gBAAgBF,GAChBvB,MAAK,SAACC,GAEL3B,EAAG4B,WAAW,SACXI,MAAM,MAAO,KAAML,EAAOlB,KAAKqB,KAC/BG,MACAP,MAAK,SAACQ,GACL,IAAMkB,EAAalB,EAASC,KAAKC,KAAI,SAACC,GAAD,oBACnCO,GAAIP,EAAIO,IACLP,EAAIC,WACL,GAEJ,GACEc,IAAe,IACA,OAAfA,QACeC,IAAfD,EACA,CAEA,IAAME,EAAa,CACjBxB,IAAKH,EAAOlB,KAAKqB,IACjBV,SAAU,GACVC,SAAU,GACVU,SAAUJ,EAAOlB,KAAKsB,UAGxB/B,EAAG4B,WAAW,SACXC,IAAIyB,GACJ5B,MAAK,WAEJhB,EAAQ4C,MAET5B,MAAK,WAEJpB,EAAQiD,KAAK,wBAIjB3C,GAAiB,GAEjBF,EAAQ0C,GACR9C,EAAQiD,KAAK,eAIpBhB,OAAM,SAACC,GACNgB,QAAQC,IAAIjB,EAAIC,SAChB3B,EAAc0B,EAAIC,aAWtB9B,gBACAC,mBACAC,aACAE,aAGF,OAAO,cAACb,EAAQwD,SAAT,CAAkBzC,MAAOA,EAAzB,SAAiCZ,I,sCC1J3B,SAASsD,EAAT,GAAoC,IAAbC,EAAY,EAAZA,SACpC,OACE,qBAAKC,UAAU,gBAAf,SACE,qBAAKA,UAAU,WAAWC,MAAO,CAAEC,MAAM,GAAD,OAAKH,EAAL,U,qBCM/B,SAASI,EAAT,GAA6C,IAAtBC,EAAqB,EAArBA,KAAMC,EAAe,EAAfA,YAAe,EACjC1D,mBAAS,MADwB,mBAClD2D,EADkD,KAC5CC,EAD4C,OAE3B5D,mBAAS,IAFkB,mBAElD6D,EAFkD,KAEzCC,EAFyC,KAGnDC,EAAe,CAAC,YAAa,aAAc,aAHQ,EAI/B/D,mBAAS,IAJsB,mBAIlDgE,EAJkD,KAI3CC,EAJ2C,OAKzBjE,mBAAS,GALgB,mBAKlDoD,EALkD,KAKxCc,EALwC,OAMnBlE,oBAAS,GANU,mBAMlDmE,EANkD,KAMrCC,EANqC,KAQjDnE,EAASoE,qBAAW3E,GAApBO,KAERqE,qBAAU,WACRL,EAAS,MACR,CAACN,IA8DJ,OACE,cAACY,EAAA,EAAD,CAAOd,KAAMA,EAAMe,QAASd,EAA5B,SACE,qBAAKL,UAAU,mBAAf,SACE,sBAAKA,UAAU,cAAf,UACE,mBAAGoB,KAAK,KAAKC,QAAShB,EAAaL,UAAU,qBAA7C,SACE,cAAC,IAAD,MAEF,uBAAMsB,SAnEO,SAACC,GAGpB,GAFAA,EAAEC,iBAEW,OAATlB,EACFM,EAAS,uCACJ,GAAKF,EAAae,SAASnB,EAAKoB,MAEhC,CACL,IAAMC,EAAazF,EAAQ0F,IAAItB,EAAKuB,MAGpCd,GAAe,GAGfY,EAAWG,IAAIxB,GAAMyB,GACnB,iBACA,SAAC1D,GACC,IAAM2D,EACH3D,EAAS4D,iBAAmB5D,EAAS6D,WAAc,IACtDrB,EAAYsB,KAAKC,MAAMJ,OAEzB,SAACrD,GACCiC,EAASjC,KARb,sBAUE,4BAAA0D,EAAA,sEACoBV,EAAWW,iBAD/B,OACQC,EADR,OAIE1B,EAAY,MAGZE,GAAe,GAGfR,EAAQ,MACRE,EAAW,IAGXtE,EAAG4B,WAAW,SAASC,IAAI,CACzBuE,MACA/B,UACA5D,KAAM,CACJY,SAAUZ,EAAKY,SACfU,SAAUtB,EAAKsB,SACfX,SAAUX,EAAKW,UAEjBiF,UAAWzG,IAASK,UAAUqG,WAAWC,oBAI3CvG,EAAG4B,WAAW,SAASS,IAAI5B,EAAKmC,IAAIhB,WAAW,YAAYC,IAAI,CAC7DuE,MACA/B,UACAgC,UAAWzG,IAASK,UAAUqG,WAAWC,oBA7B7C,iDAlBF9B,EAAS,yBA6DL,UACE,uBACEc,KAAK,OACL3C,GAAG,OACHiB,UAAU,OACV2C,SAAU,SAACpB,GAAD,OAAOhB,EAAQgB,EAAEqB,OAAOC,MAAM,OAE1C,uBAAOC,QAAQ,OAAO9C,UAAU,oBAAhC,SACE,+BACE,cAAC,IAAD,IADF,IACeM,EAAOA,EAAKuB,KAAO,+BAGpC,0BACEA,KAAK,UACL9C,GAAG,GACHgE,KAAK,KACLC,KAAK,KACLC,YAAY,UACZjD,UAAU,gBACV2C,SAAU,SAACpB,GAAD,OAAOd,EAAWc,EAAEqB,OAAOxF,QACrCA,MAAOoD,IAET,wBAAQR,UAAU,oBAAoBkD,SAAUpC,EAAhD,SACGA,EAAc,MAAQ,WAExBf,EAAW,GAAK,cAACD,EAAD,CAAaC,SAAUA,IACvCY,GAAS,qBAAKX,UAAU,gBAAf,SAAgCW,c,+DCzGvC,SAASwC,IAAU,IAAD,EACNnC,qBAAW3E,GAA5BO,EADuB,EACvBA,KAAMoC,EADiB,EACjBA,OADiB,EAEPrC,oBAAS,GAFF,mBAExByD,EAFwB,KAElBgD,EAFkB,OAGYC,IAAgB,GAAnDC,EAHuB,EAGvBA,YAAaC,EAHU,EAGVA,UAAWC,EAHD,EAGCA,OAC1B/G,EAAUC,cAgBhB,OACE,8BACE,sBAAKsD,UAAU,iBAAf,UACE,qBAAKA,UAAU,eAAf,SACE,cAAC,IAAD,CAAMyD,GAAG,QAAT,8BAGF,sBAAKzD,UAAU,YAAf,UACE,cAAC,IAAD,CAAMyD,GAAG,QAAT,SACE,cAAC,IAAD,MAEF,cAAC,IAAD,CAAMpC,QAvBK,SAACE,GAClBA,EAAEC,iBAEF4B,GAAQ,IAoBF,SACE,cAAC,IAAD,MAEDhD,GAAQ,cAACD,EAAD,CAAaC,KAAMA,EAAMC,YA5BtB,kBAAM+C,GAAQ,MA6B1B,sBAAKpD,UAAU,eAAf,UACE,cAAC0D,EAAA,EAAD,aACEC,IAAG,OAAE/G,QAAF,IAAEA,OAAF,EAAEA,EAAMgH,YACXC,IAAG,OAAEjH,QAAF,IAAEA,OAAF,EAAEA,EAAMsB,UACPoF,IAEN,sBAAKtD,UAAWwD,EAAS,UAAY,GAAIM,KAAK,OAA9C,UACE,eAAC,IAAD,2BAAUP,EAAU,IAApB,IAAwBE,GAAG,IAA3B,UACE,cAAC,IAAD,IADF,kBAGA,eAAC,IAAD,2BAAUF,EAAU,IAApB,IAAwBE,GAAG,IAAIpC,QA/BtB,SAACE,GACpBA,EAAEC,iBAEFxC,GAAO,kBAAMvC,EAAQiD,KAAK,SA4BhB,UACE,cAAC,IAAD,IADF,4B,6BC1CCqE,EAZK,SAAC,GAAe,IAAdC,EAAa,EAAbA,QACpB,OACE,sBAAKhE,UAAU,gBAAf,UACE,sBAAKA,UAAU,wBAAf,UACE,cAAC0D,EAAA,EAAD,CAAQG,IAAKG,EAAQpH,KAAKsB,SAAUyF,IAAKK,EAAQpH,KAAKY,WACtD,6BAAKwG,EAAQpH,KAAKY,cAEpB,mBAAGwC,UAAU,oBAAb,SAAkCgE,EAAQA,cCyCjCC,EA7CG,SAAC,GAAmC,IAAjCC,EAAgC,EAAhCA,KAAMC,EAA0B,EAA1BA,QAASC,EAAiB,EAAjBA,WAAiB,EACnBzH,mBAAS,IADU,mBAC5C0H,EAD4C,KAClCC,EADkC,KAYnD,OATArD,qBAAU,WACR9E,EAAG4B,WAAW,SACXS,IAAI0F,EAAKnF,IACThB,WAAW,YACXwG,YAAW,SAACC,GACXF,EAAYE,EAAKlG,KAAKC,KAAI,SAACC,GAAD,oBAAYO,GAAIP,EAAIO,IAAOP,EAAIC,iBAE5D,CAACyF,EAAKnF,KAGP,cAACmC,EAAA,EAAD,CAAOd,KAAM+D,EAAShD,QAAS,kBAAMiD,GAAW,IAAhD,SACE,qBAAKpE,UAAU,mBAAf,SACE,sBAAKA,UAAU,sBAAf,UACE,mBACEoB,KAAK,KACLpB,UAAU,oBACVqB,QAAS,kBAAM+C,GAAW,IAH5B,kBAOA,qBAAKpE,UAAU,YAAf,SACE,qBAAK6D,IAAKK,EAAK3B,IAAKoB,IAAI,WAE1B,sBAAK3D,UAAU,aAAf,UACE,sBAAKA,UAAU,aAAf,UACE,cAAC0D,EAAA,EAAD,CAAQG,IAAG,OAAEK,QAAF,IAAEA,OAAF,EAAEA,EAAMtH,KAAKsB,SAAUyF,IAAG,OAAEO,QAAF,IAAEA,OAAF,EAAEA,EAAMtH,KAAKY,WAClD,oCAAK0G,QAAL,IAAKA,OAAL,EAAKA,EAAMtH,KAAKY,cAElB,mBAAGwC,UAAU,gBAAb,gBAA8BkE,QAA9B,IAA8BA,OAA9B,EAA8BA,EAAM1D,UACpC,oBAAIR,UAAU,wBAAd,sBACA,qBAAKA,UAAU,iBAAf,SACGqE,EAAS9F,KAAI,SAACyF,GAAD,OACZ,cAAC,EAAD,CAA8BA,QAASA,GAArBA,EAAQjF,oBC9B3B,SAAS0F,EAAT,GAAyB,IAATP,EAAQ,EAARA,KAAQ,EACPvH,mBAAS,IADF,mBAC9BqH,EAD8B,KACrBU,EADqB,OAEG/H,mBAAS,IAFZ,mBAE9BgI,EAF8B,KAEhBC,EAFgB,OAGPjI,oBAAS,GAHF,mBAG9BwH,EAH8B,KAGrBC,EAHqB,KAI7BxH,EAASoE,qBAAW3E,GAApBO,KAGRqE,qBAAU,WACR9E,EAAG4B,WAAW,SACXS,IAAI0F,EAAKnF,IACThB,WAAW,YACX8G,QAAQ,YAAa,QACrBN,YAAW,SAACC,GACXI,EACEJ,EAAKlG,KAAKC,KAAI,SAACC,GAAD,oBAAYO,GAAIP,EAAIO,IAAOP,EAAIC,iBAGlD,CAACyF,EAAKnF,KAoBT,OACE,sBAAKiB,UAAU,OAAf,UACE,sBAAKA,UAAU,eAAf,UACE,cAAC0D,EAAA,EAAD,CAAQC,IAAKO,EAAKtH,KAAKY,SAAUqG,IAAKK,EAAKtH,KAAKsB,WAChD,6BAAKgG,EAAKtH,KAAKW,cAEjB,qBAAKyC,UAAU,aAAaqB,QAAS,kBAAM+C,GAAW,IAAtD,SACE,qBAAKP,IAAKK,EAAK3B,IAAKoB,IAAI,OAAOmB,MAAM,mCAEvC,qBAAK9E,UAAU,eAAf,SACE,mBAAGA,UAAU,gBAAb,SACE,cAAC,IAAD,UAAWkE,EAAK1D,cAGpB,qBAAKR,UAAU,iBAAf,SACG2E,EAAaI,MAAM,EAAG,GAAGxG,KAAI,SAACyF,GAAD,OAC5B,cAAC,EAAD,CAAaA,QAASA,GAAcA,EAAQjF,SAGhD,uBAAMiB,UAAU,oBAAoBsB,SArCd,SAACC,GACzBA,EAAEC,iBAEFrF,EAAG4B,WAAW,SACXS,IAAI0F,EAAKnF,IACThB,WAAW,YACXC,IAAI,CACHgG,UACAxB,UAAWzG,IAASK,UAAUqG,WAAWC,kBACzC9F,KAAM,CACJY,SAAUZ,EAAKY,SACfU,SAAUtB,EAAKsB,YAIrBwG,EAAW,KAsBT,UACE,uBACEhD,KAAK,OACLuB,YAAY,kBACZjD,UAAU,eACV5C,MAAO4G,EACPrB,SAAU,SAACpB,GAAD,OAAOmD,EAAWnD,EAAEqB,OAAOxF,UAEvC,wBAAQ4C,UAAU,mBAAlB,SACE,cAAC,IAAD,SAGHmE,GACC,cAAC,EAAD,CAAWD,KAAMA,EAAMC,QAASA,EAASC,WAAYA,OC3E9C,SAASY,IAAS,IAAD,EACJrI,mBAAS,IADL,mBACvBsI,EADuB,KAChBC,EADgB,KAW9B,OARAjE,qBAAU,WACR9E,EAAG4B,WAAW,SACX8G,QAAQ,YAAa,QACrBN,YAAW,SAAClG,GACX6G,EAAS7G,EAASC,KAAKC,KAAI,SAACC,GAAD,oBAAYO,GAAIP,EAAIO,IAAOP,EAAIC,iBAE7D,IAGD,qBAAKuB,UAAU,QAAf,SACGiF,EAAME,OAAS,EACdF,EAAM1G,KAAI,SAAC2F,GAAD,OAAU,cAACO,EAAD,CAAMP,KAAMA,GAAWA,EAAKnF,OAEhD,qBAAKiB,UAAU,gBAAf,wBChBO,SAASoF,IAAW,IACzBxI,EAASoE,qBAAW3E,GAApBO,KAER,OACE,qBAAKoD,UAAU,UAAf,SACE,sBAAKA,UAAU,kBAAf,UACE,cAAC0D,EAAA,EAAD,CAAQC,IAAG,OAAE/G,QAAF,IAAEA,OAAF,EAAEA,EAAMY,SAAUqG,IAAG,OAAEjH,QAAF,IAAEA,OAAF,EAAEA,EAAMsB,WACxC,sBAAK8B,UAAU,aAAf,UACE,oBAAIA,UAAU,wBAAd,gBAAuCpD,QAAvC,IAAuCA,OAAvC,EAAuCA,EAAMY,WAC7C,mBAAGwC,UAAU,wBAAb,gBAAsCpD,QAAtC,IAAsCA,OAAtC,EAAsCA,EAAMW,mBCMvC8H,MAdf,WACE,OACE,sBAAKrF,UAAU,MAAf,UACE,cAACmD,EAAD,IACA,sBAAKnD,UAAU,kBAAf,UACE,cAACgF,EAAD,IACA,qBAAKhF,UAAU,UAAf,SACE,cAACoF,EAAD,a,0BCqDKE,EA3DU,WACvB,IAAM7I,EAAUC,cADa,EAGSsE,qBAAW3E,GAAzCU,EAHqB,EAGrBA,iBAAkBF,EAHG,EAGHA,QAiD1B,OA/CAoE,qBAAU,WACR,IAAMsE,EAActJ,EAAKuJ,oBAAmB,SAAC5I,GAG9B,OAATA,EACFT,EAAG4B,WAAW,SACXI,MAAM,MAAO,KAAMvB,EAAKqB,KACxBG,MACAP,MAAK,SAACQ,GACL,IAAMoH,EAAcpH,EAASC,KAAKC,KAAI,SAACC,GAAD,oBACpCO,GAAIP,EAAIO,IACLP,EAAIC,WACL,GAGJ1B,GAAiB,GACjBF,EAAQ4I,GAMNA,GACAA,EAAYjI,SAAS2H,OAAS,GAC9BM,EAAYlI,SAAS4H,OAAS,EAK9B1I,EAAQiD,KAAK,SAGbjD,EAAQiD,KAAK,oBAKnBjD,EAAQiD,KAAK,KAGb3C,GAAiB,OAIrB,OAAO,kBAAMwI,OACZ,CAAC9I,EAASM,EAAkBF,IAG7B,qBAAKmD,UAAU,yBAAf,SACE,cAAC,IAAD,CAAeC,MAAO,CAAEyF,UAAW,aAAcC,MAAO,aCtD/C,SAASC,EAAT,GAA6B,IAAZnJ,EAAW,EAAXA,QAAW,EACfE,mBAAS,IADM,mBAClCW,EADkC,KAC3BuI,EAD2B,OAETlJ,mBAAS,IAFA,mBAElCc,EAFkC,KAExBqI,EAFwB,OAGPnJ,oBAAS,GAHF,mBAGlCoJ,EAHkC,KAGvBC,EAHuB,OAarChF,qBAAW3E,GANbwC,EAPuC,EAOvCA,MACAM,EARuC,EAQvCA,gBACArC,EATuC,EASvCA,cACAC,EAVuC,EAUvCA,iBACAG,EAXuC,EAWvCA,UACAF,EAZuC,EAYvCA,WAGFiE,qBAAU,WACRlE,GAAiB,KAChB,CAACA,IAoBJ,OAAID,EACK,cAAC,EAAD,IAIP,sBAAKkD,UAAU,mBAAf,UACE,iDACA,sBAAKA,UAAU,aAAf,UACE,qBAAKA,UAAU,OAAf,SACE,uBAAMsB,SA3BM,SAACC,GACnBA,EAAEC,iBAEFwE,GAAa,GAEbnH,EACEvB,EACAG,GACA,kBAAMhB,EAAQiD,KAAK,YACnB,kBAAMsG,GAAa,OAkBf,UACE,sBAAKhG,UAAU,cAAf,UACE,uBACE0B,KAAK,QACL3C,GAAG,QACH8C,KAAK,QACLzE,MAAOE,EACPqF,SAAU,SAACpB,GAAD,OAAOsE,EAAStE,EAAEqB,OAAOxF,QACnC6I,UAAQ,IAEV,uBAAOnD,QAAQ,QAAf,sBAEF,sBAAK9C,UAAU,cAAf,UACE,uBACE0B,KAAK,WACL3C,GAAG,WACH8C,KAAK,WACLzE,MAAOK,EACPkF,SAAU,SAACpB,GAAD,OAAOuE,EAAYvE,EAAEqB,OAAOxF,QACtC6I,UAAQ,IAEV,uBAAOnD,QAAQ,WAAf,yBAEF,wBAAQ9C,UAAU,oBAAoBkD,SAAU6C,EAAhD,SACIA,EAGA,cAACG,EAAA,EAAD,CAAkBC,KAAM,GAAIR,MAAM,YAFlC,WAKHzI,GACC,qBAAK8C,UAAU,cAAf,SACE,gCAAQ9C,MAGXF,GACC,qBAAKgD,UAAU,cAAf,SACE,gCAAQhD,MAGZ,qBAAKgD,UAAU,gBAAf,SACE,wBAAQA,UAAU,kBAAkBqB,QAvDtB,WACxBlC,GAAgB,kBAAM1C,EAAQiD,KAAK,oBAsDzB,kCAIF,mBAAG0B,KAAK,KAAKpB,UAAU,iBAAvB,mCAKJ,qBAAKA,UAAU,eAAf,SACE,yDAC0B,cAAC,IAAD,CAAMyD,GAAG,UAAT,+BCnGrB,SAAS2C,GAAT,GAA8B,IAAZ3J,EAAW,EAAXA,QAAW,EACZuE,qBAAW3E,GAAjCgB,EADkC,EAClCA,OAAQH,EAD0B,EAC1BA,UAD0B,EAEhBP,mBAAS,IAFO,mBAEnCW,EAFmC,KAE5BuI,EAF4B,OAGVlJ,mBAAS,IAHC,mBAGnCY,EAHmC,KAGzB8I,EAHyB,OAIV1J,mBAAS,IAJC,mBAInCa,EAJmC,KAIzB8I,EAJyB,OAKV3J,mBAAS,IALC,mBAKnCc,EALmC,KAKzBqI,EALyB,OAMRnJ,oBAAS,GAND,mBAMnCoJ,EANmC,KAMxBC,EANwB,KAsB1C,OACE,sBAAKhG,UAAU,oBAAf,UACE,iDACA,sBAAKA,UAAU,aAAf,UACE,sBAAKA,UAAU,OAAf,UACE,qFACA,uBAAMsB,SApBO,SAACC,GACpBA,EAAEC,iBAEFwE,GAAa,GACb3I,EACEC,EACAC,EACAC,EACAC,GACA,kBAAMhB,EAAQiD,KAAK,YACnB,kBAAMsG,GAAa,OAUf,UACE,sBAAKhG,UAAU,cAAf,UACE,uBACE0B,KAAK,QACL3C,GAAG,QACH8C,KAAK,QACLzE,MAAOE,EACPqF,SAAU,SAACpB,GAAD,OAAOsE,EAAStE,EAAEqB,OAAOxF,QACnC6I,UAAQ,IAEV,uBAAOnD,QAAQ,QAAf,sBAEF,sBAAK9C,UAAU,cAAf,UACE,uBACE0B,KAAK,OACL3C,GAAG,WACH8C,KAAK,WACLzE,MAAOG,EACPoF,SAAU,SAACpB,GAAD,OAAO8E,EAAY9E,EAAEqB,OAAOxF,QACtC6I,UAAQ,IAEV,uBAAOnD,QAAQ,WAAf,yBAEF,sBAAK9C,UAAU,cAAf,UACE,uBACE0B,KAAK,OACL3C,GAAG,WACH8C,KAAK,WACLzE,MAAOI,EACPmF,SAAU,SAACpB,GAAD,OAAO+E,EAAY/E,EAAEqB,OAAOxF,QACtC6I,UAAQ,IAEV,uBAAOnD,QAAQ,WAAf,0BAEF,sBAAK9C,UAAU,cAAf,UACE,uBACE0B,KAAK,WACL3C,GAAG,WACH8C,KAAK,WACLzE,MAAOK,EACPkF,SAAU,SAACpB,GAAD,OAAOuE,EAAYvE,EAAEqB,OAAOxF,QACtC6I,UAAQ,IAEV,uBAAOnD,QAAQ,WAAf,yBAEF,wBAAQ9C,UAAU,oBAAoBkD,SAAU6C,EAAhD,SACIA,EAGA,cAACG,EAAA,EAAD,CAAkBC,KAAM,GAAIR,MAAM,YAFlC,YAKJ,qBAAK3F,UAAU,cAAf,SACE,gCAAQ9C,SAGZ,mBAAG8C,UAAU,WAAb,yFAKF,qBAAKA,UAAU,eAAf,SACE,iDACkB,cAAC,IAAD,CAAMyD,GAAG,IAAT,+BCxFb,SAAS8C,KAAc,IAAD,EACH5J,mBAAS,IADN,mBAC5Ba,EAD4B,KAClB8I,EADkB,OAEH3J,mBAAS,IAFN,mBAE5BY,EAF4B,KAElB8I,EAFkB,OAGH1J,mBAAS,IAHN,mBAG5Bc,EAH4B,KAGlBqI,EAHkB,OAIDnJ,oBAAS,GAJR,mBAI5BoJ,EAJ4B,KAIjBC,EAJiB,KAK7BvJ,EAAUC,cALmB,EAOwBsE,qBACzD3E,GADMQ,EAP2B,EAO3BA,QAASD,EAPkB,EAOlBA,KAAME,EAPY,EAOZA,cAAeC,EAPH,EAOGA,iBAItCkE,qBAAU,WACRlE,GAAiB,KAChB,CAACA,IA2BJ,OAAID,EACK,cAAC,EAAD,IAIP,yBAASkD,UAAU,sBAAnB,SACE,sBAAKA,UAAU,YAAf,UACE,cAAC0D,EAAA,EAAD,CAAQG,IAAKjH,EAAKsB,WAClB,uBAAMoD,SAjCS,SAACC,GACpBA,EAAEC,iBAEFwE,GAAa,GAGO/J,EAAKwJ,YAEtBe,eAAe/I,GACfI,MAAK,WAEJ1B,EAAG4B,WAAW,SAASS,IAAI5B,EAAKmC,IAAI0H,OAAO,CACzCjJ,WACAD,aAIFV,GAAQ,SAACD,GAAD,mBAAC,eAAeA,GAAhB,IAAsBY,WAAUD,gBAExCyI,GAAa,GACbvJ,EAAQiD,KAAK,YAEdhB,OAAM,SAACC,GAAD,OAASgB,QAAQC,IAAIjB,OAW1B,UACE,sBAAKqB,UAAU,cAAf,UACE,uBACE0B,KAAK,OACL3C,GAAG,WACH8C,KAAK,WACLzE,MAAOI,EACPmF,SAAU,SAACpB,GAAD,OAAO+E,EAAY/E,EAAEqB,OAAOxF,QACtC6I,UAAQ,IAEV,uBAAOnD,QAAQ,WAAf,0BAEF,sBAAK9C,UAAU,cAAf,UACE,uBACE0B,KAAK,OACL3C,GAAG,WACH8C,KAAK,WACLzE,MAAOG,EACPoF,SAAU,SAACpB,GAAD,OAAO8E,EAAY9E,EAAEqB,OAAOxF,QACtC6I,UAAQ,IAEV,uBAAOnD,QAAQ,WAAf,yBAEF,sBAAK9C,UAAU,cAAf,UACE,uBACE0B,KAAK,WACL3C,GAAG,WACH8C,KAAK,WACLzE,MAAOK,EACPkF,SAAU,SAACpB,GAAD,OAAOuE,EAAYvE,EAAEqB,OAAOxF,QACtC6I,UAAQ,IAEV,uBAAOnD,QAAQ,WAAf,yBAEF,wBAAQ9C,UAAU,oBAAoBkD,SAAU6C,EAAhD,SACIA,EAGA,cAACG,EAAA,EAAD,CAAkBC,KAAM,GAAIR,MAAM,YAFlC,mB,aCxFDe,GAAe,SAAC,GAAuC,IAA1BC,EAAyB,EAApCC,UAAyBC,EAAW,8BACzDjK,EAASoE,qBAAW3E,GAApBO,KAER,OACE,cAAC,IAAD,2BACMiK,GADN,IAEEC,OAAQ,SAACC,GAAD,YACOvH,IAAb5C,EAAKqB,IACH,cAAC0I,EAAD,eAAeI,IAEf,cAAC,IAAD,CAAUtD,GAAI,CAAEuD,SAAU,IAAKC,MAAO,CAAEC,KAAMH,EAAMI,kB,OCN/C,SAAS9B,KACtB,OACE,qBAAKrF,UAAU,MAAf,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOoH,KAAK,IAAIR,UAAWhB,EAAOyB,OAAK,IACvC,cAAC,IAAD,CAAOD,KAAK,UAAUR,UAAWR,KACjC,cAAC,GAAD,CAAcgB,KAAK,QAAQR,UAAWU,IACtC,cAAC,GAAD,CAAcF,KAAK,eAAeR,UAAWL,UCfrD,IAYegB,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqB5J,MAAK,YAAkD,IAA/C6J,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCAdO,IAASjB,OACP,cAAC,IAAMkB,WAAP,UACE,cAAC,IAAD,UACE,cAAC,EAAD,UACE,cAAC,GAAD,UAINC,SAASC,eAAe,SAM1BX,O","file":"static/js/main.783c1a27.chunk.js","sourcesContent":["import firebase from \"firebase\";\r\n\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_APP_ID,\r\n  measurementId: process.env.REACT_APP_MEASUREMENT_ID,\r\n};\r\n\r\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\r\n\r\nexport const auth = firebaseApp.auth();\r\nexport const storage = firebaseApp.storage();\r\nexport const db = firebaseApp.firestore();\r\n","import { useState, createContext } from \"react\";\r\nimport { auth, db } from \"../firebase/config\";\r\nimport firebase from \"firebase\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nexport const Context = createContext({});\r\n\r\nexport default function ContextProvider({ children }) {\r\n  const history = useHistory();\r\n  const [user, setUser] = useState({});\r\n  const [isPageLoading, setIsPageLoading] = useState(true);\r\n  const [OAuthError, setOAuthError] = useState(null);\r\n  const [authError, setAuthError] = useState(null);\r\n\r\n  const login = (email, password, redirect, disableLoading) => {\r\n    auth\r\n      .signInWithEmailAndPassword(email, password)\r\n      .then((result) => {\r\n        db.collection(\"users\")\r\n          .where(\"uid\", \"==\", result.user.uid)\r\n          .get()\r\n          .then((snapshot) => {\r\n            setUser(\r\n              snapshot.docs.map((doc) => ({ id: doc.id, ...doc.data() }))[0]\r\n            );\r\n\r\n            disableLoading(); // Disable loading button\r\n            redirect();\r\n          });\r\n      })\r\n      .catch((err) => {\r\n        setAuthError(err.message);\r\n        disableLoading(); // Disable loading button\r\n      });\r\n  };\r\n\r\n  const signup = (\r\n    email,\r\n    username,\r\n    fullName,\r\n    password,\r\n    redirect,\r\n    disableLoading\r\n  ) => {\r\n    auth\r\n      .createUserWithEmailAndPassword(email, password)\r\n      .then((result) => {\r\n        // Setting the user in firestore\r\n        db.collection(\"users\").add({\r\n          uid: result.user.uid,\r\n          username,\r\n          fullName,\r\n          photoURL: result.user.photoURL,\r\n        });\r\n\r\n        // Setting user to state from users collection\r\n        db.collection(\"users\")\r\n          .where(\"uid\", \"==\", result.user.uid)\r\n          .get()\r\n          .then((snapshot) => {\r\n            setUser(snapshot.docs.map((doc) => ({ ...doc.data() }))[0]);\r\n\r\n            disableLoading(); // Disable the signup button loading\r\n\r\n            // Redirect to home component\r\n            redirect();\r\n          });\r\n      })\r\n      .catch((err) => {\r\n        disableLoading(); // Disable the signup button loading\r\n        setAuthError(err.message);\r\n      });\r\n  };\r\n\r\n  const logout = (redirect) => {\r\n    auth\r\n      .signOut()\r\n      .then(() => {\r\n        // Signing out user\r\n        setUser({});\r\n\r\n        // redirect back to login page\r\n        redirect();\r\n      })\r\n      .catch((err) => alert(err));\r\n  };\r\n\r\n  const loginWithGoogle = () => {\r\n    const provider = new firebase.auth.GoogleAuthProvider();\r\n\r\n    auth\r\n      .signInWithPopup(provider)\r\n      .then((result) => {\r\n        // Check if user already exists, if exists then direcly log him/her in\r\n        db.collection(\"users\")\r\n          .where(\"uid\", \"==\", result.user.uid)\r\n          .get()\r\n          .then((snapshot) => {\r\n            const userExists = snapshot.docs.map((doc) => ({\r\n              id: doc.id,\r\n              ...doc.data(),\r\n            }))[0];\r\n\r\n            if (\r\n              userExists === {} ||\r\n              userExists === null ||\r\n              userExists === undefined\r\n            ) {\r\n              // Setting the user in firestore\r\n              const googleUser = {\r\n                uid: result.user.uid,\r\n                username: \"\",\r\n                fullName: \"\",\r\n                photoURL: result.user.photoURL,\r\n              };\r\n\r\n              db.collection(\"users\")\r\n                .add(googleUser)\r\n                .then(() => {\r\n                  // Setting the global state user\r\n                  setUser(googleUser);\r\n                })\r\n                .then(() => {\r\n                  // Redirect to set-profile component\r\n                  history.push(\"/set-profile\");\r\n                });\r\n            } else {\r\n              // Turn off loading\r\n              setIsPageLoading(false);\r\n              // If user already exists in the firestore database, then log him in with his data as state\r\n              setUser(userExists);\r\n              history.push(\"/home\");\r\n            }\r\n          });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err.message);\r\n        setOAuthError(err.message);\r\n      });\r\n  };\r\n\r\n  const value = {\r\n    user,\r\n    setUser,\r\n    signup,\r\n    login,\r\n    logout,\r\n    loginWithGoogle,\r\n    isPageLoading,\r\n    setIsPageLoading,\r\n    OAuthError,\r\n    authError\r\n  };\r\n\r\n  return <Context.Provider value={value}>{children}</Context.Provider>;\r\n}\r\n","export default function ProgressBar({ progress }) {\r\n  return (\r\n    <div className=\"progress__bar\">\r\n      <div className=\"progress\" style={{ width: `${progress}%` }}></div>\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useContext, useEffect } from \"react\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport { storage, db } from \"../firebase/config\";\r\nimport { Context } from \"../Context/GlobalState\";\r\nimport ProgressBar from \"./ProgressBar\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport firebase from \"firebase\";\r\n\r\nexport default function UploadModal({ open, handleClose }) {\r\n  const [file, setFile] = useState(null);\r\n  const [caption, setCaption] = useState(\"\");\r\n  const allowedTypes = [\"image/jpg\", \"image/jpeg\", \"image/png\"];\r\n  const [error, setError] = useState(\"\");\r\n  const [progress, setProgress] = useState(0);\r\n  const [isUploading, setIsUploading] = useState(false);\r\n\r\n  const { user } = useContext(Context);\r\n\r\n  useEffect(() => {\r\n    setError(\"\");\r\n  }, [file]);\r\n\r\n  const handleUpload = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (file === null) {\r\n      setError(\"Please select a file to upload\");\r\n    } else if (!allowedTypes.includes(file.type)) {\r\n      setError(\"Only JPG/PNG allowed\");\r\n    } else {\r\n      const storageRef = storage.ref(file.name);\r\n\r\n      // When file starts uploading, set it to true, so as to show uploading text in the upload button\r\n      setIsUploading(true);\r\n\r\n      // file uploading\r\n      storageRef.put(file).on(\r\n        \"state_changed\",\r\n        (snapshot) => {\r\n          const percent =\r\n            (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n          setProgress(Math.floor(percent));\r\n        },\r\n        (err) => {\r\n          setError(err);\r\n        },\r\n        async () => {\r\n          const url = await storageRef.getDownloadURL();\r\n\r\n          // Set progress back to null after file upload completion\r\n          setProgress(null);\r\n\r\n          // After uploadng, set isUploading to false\r\n          setIsUploading(false);\r\n\r\n          // After uploding, reset file and caption\r\n          setFile(null);\r\n          setCaption(\"\");\r\n\r\n          // Adding to the database (post collection)\r\n          db.collection(\"posts\").add({\r\n            url,\r\n            caption,\r\n            user: {\r\n              fullName: user.fullName,\r\n              photoURL: user.photoURL,\r\n              username: user.username,\r\n            },\r\n            timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n          });\r\n\r\n          // Adding to the database (users collection)\r\n          db.collection(\"users\").doc(user.id).collection(\"my_posts\").add({\r\n            url,\r\n            caption,\r\n            timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n          });\r\n        }\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal open={open} onClose={handleClose}>\r\n      <div className=\"modal__container\">\r\n        <div className=\"modal__body\">\r\n          <a href=\"#!\" onClick={handleClose} className=\"close__uploadModal\">\r\n            <CloseIcon />\r\n          </a>\r\n          <form onSubmit={handleUpload}>\r\n            <input\r\n              type=\"file\"\r\n              id=\"file\"\r\n              className=\"file\"\r\n              onChange={(e) => setFile(e.target.files[0])}\r\n            />\r\n            <label htmlFor=\"file\" className=\"file__placeholder\">\r\n              <h4>\r\n                <AddIcon /> {file ? file.name : \"Select a file to upload\"}\r\n              </h4>\r\n            </label>\r\n            <textarea\r\n              name=\"caption\"\r\n              id=\"\"\r\n              cols=\"30\"\r\n              rows=\"10\"\r\n              placeholder=\"Caption\"\r\n              className=\"form__caption\"\r\n              onChange={(e) => setCaption(e.target.value)}\r\n              value={caption}\r\n            ></textarea>\r\n            <button className=\"primary-insta-btn\" disabled={isUploading}>\r\n              {isUploading ? \"...\" : \"Upload\"}\r\n            </button>\r\n            {progress > 0 && <ProgressBar progress={progress} />}\r\n            {error && <div className=\"upload__error\">{error}</div>}\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n","import { useState, useContext } from \"react\";\r\nimport HomeSharpIcon from \"@material-ui/icons/HomeSharp\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport { Context } from \"../Context/GlobalState\";\r\nimport UploadModal from \"./UploadModal\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport useDropdownMenu from \"react-accessible-dropdown-menu-hook\";\r\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\r\nimport AccountCircleIcon from \"@material-ui/icons/AccountCircle\";\r\n\r\nexport default function Navbar() {\r\n  const { user, logout } = useContext(Context);\r\n  const [open, setOpen] = useState(false);\r\n  const { buttonProps, itemProps, isOpen } = useDropdownMenu(2);\r\n  const history = useHistory();\r\n\r\n  const handleClose = () => setOpen(false);\r\n\r\n  const handleOpen = (e) => {\r\n    e.preventDefault();\r\n\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleLogout = (e) => {\r\n    e.preventDefault();\r\n\r\n    logout(() => history.push(\"/\"));\r\n  };\r\n\r\n  return (\r\n    <nav>\r\n      <div className=\"nav__container\">\r\n        <div className=\"nav__navlogo\">\r\n          <Link to=\"/home\">Instgram Clone</Link>\r\n        </div>\r\n\r\n        <div className=\"nav__menu\">\r\n          <Link to=\"/home\">\r\n            <HomeSharpIcon />\r\n          </Link>\r\n          <Link onClick={handleOpen}>\r\n            <AddIcon />\r\n          </Link>\r\n          {open && <UploadModal open={open} handleClose={handleClose} />}\r\n          <div className=\"avatar__menu\">\r\n            <Avatar\r\n              alt={user?.displayName}\r\n              src={user?.photoURL}\r\n              {...buttonProps}\r\n            />\r\n            <div className={isOpen ? \"visible\" : \"\"} role=\"menu\">\r\n              <Link {...itemProps[0]} to=\"/\">\r\n                <AccountCircleIcon /> My Profile\r\n              </Link>\r\n              <Link {...itemProps[1]} to=\"/\" onClick={handleLogout}>\r\n                <ExitToAppIcon /> Logout\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n","import Avatar from \"@material-ui/core/Avatar\";\r\n\r\nconst PostComment = ({comment}) => {\r\n  return (\r\n    <div className=\"post__comment\">\r\n      <div className=\"post__userDescription\">\r\n        <Avatar src={comment.user.photoURL} alt={comment.user.fullName} />\r\n        <h3>{comment.user.fullName}</h3>\r\n      </div>\r\n      <p className=\"post__commentText\">{comment.comment}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostComment;\r\n","import { useEffect, useState } from \"react\";\r\nimport { Avatar, Modal } from \"@material-ui/core\";\r\nimport { db } from \"../firebase/config\";\r\nimport PostComment from \"./PostComment\";\r\n\r\nconst PostModal = ({ post, isModal, setIsModal }) => {\r\n  const [comments, setComments] = useState([]);\r\n\r\n  useEffect(() => {\r\n    db.collection(\"posts\")\r\n      .doc(post.id)\r\n      .collection(\"comments\")\r\n      .onSnapshot((snap) => {\r\n        setComments(snap.docs.map((doc) => ({ id: doc.id, ...doc.data() })));\r\n      });\r\n  }, [post.id]);\r\n\r\n  return (\r\n    <Modal open={isModal} onClose={() => setIsModal(false)}>\r\n      <div className=\"post_modal__body\">\r\n        <div className=\"post_modal__content\">\r\n          <a\r\n            href=\"#!\"\r\n            className=\"post_modal__close\"\r\n            onClick={() => setIsModal(false)}\r\n          >\r\n            &times;\r\n          </a>\r\n          <div className=\"post__img\">\r\n            <img src={post.url} alt=\"Post\" />\r\n          </div>\r\n          <div className=\"post__body\">\r\n            <div className=\"post__user\">\r\n              <Avatar src={post?.user.photoURL} alt={post?.user.fullName} />\r\n              <h3>{post?.user.fullName}</h3>\r\n            </div>\r\n            <p className=\"post__caption\">{post?.caption}</p>\r\n            <h3 className=\"post__commentsHeading\">Comments</h3>\r\n            <div className=\"post__comments\">\r\n              {comments.map((comment) => (\r\n                <PostComment key={comment.id} comment={comment} />\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default PostModal;\r\n","import { useState, useContext, useEffect } from \"react\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Hashtags from \"react-highlight-hashtags\";\r\nimport SendIcon from \"@material-ui/icons/Send\";\r\nimport { db } from \"../firebase/config\";\r\nimport { Context } from \"../Context/GlobalState\";\r\nimport firebase from \"firebase\";\r\nimport PostComment from \"./PostComment\";\r\nimport PostModal from \"./PostModal\";\r\n\r\nexport default function Post({ post }) {\r\n  const [comment, setComment] = useState(\"\");\r\n  const [postComments, setPostComments] = useState([]);\r\n  const [isModal, setIsModal] = useState(false);\r\n  const { user } = useContext(Context);\r\n\r\n  // This effect will help to load post's comment from the firestore DB\r\n  useEffect(() => {\r\n    db.collection(\"posts\")\r\n      .doc(post.id)\r\n      .collection(\"comments\")\r\n      .orderBy(\"timestamp\", \"desc\")\r\n      .onSnapshot((snap) => {\r\n        setPostComments(\r\n          snap.docs.map((doc) => ({ id: doc.id, ...doc.data() }))\r\n        );\r\n      });\r\n  }, [post.id]);\r\n\r\n  const handleCommentForm = (e) => {\r\n    e.preventDefault();\r\n\r\n    db.collection(\"posts\")\r\n      .doc(post.id)\r\n      .collection(\"comments\")\r\n      .add({\r\n        comment,\r\n        timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n        user: {\r\n          fullName: user.fullName,\r\n          photoURL: user.photoURL,\r\n        },\r\n      });\r\n\r\n    setComment(\"\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"post\">\r\n      <div className=\"post__header\">\r\n        <Avatar alt={post.user.fullName} src={post.user.photoURL} />\r\n        <h4>{post.user.username}</h4>\r\n      </div>\r\n      <div className=\"post__body\" onClick={() => setIsModal(true)}>\r\n        <img src={post.url} alt=\"Post\" title=\"Click to view in full screen\" />\r\n      </div>\r\n      <div className=\"post__footer\">\r\n        <p className=\"post__caption\">\r\n          <Hashtags>{post.caption}</Hashtags>\r\n        </p>\r\n      </div>\r\n      <div className=\"post__comments\">\r\n        {postComments.slice(0, 2).map((comment) => (\r\n          <PostComment comment={comment} key={comment.id} />\r\n        ))}\r\n      </div>\r\n      <form className=\"post__commentForm\" onSubmit={handleCommentForm}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Comment here...\"\r\n          className=\"comment__box\"\r\n          value={comment}\r\n          onChange={(e) => setComment(e.target.value)}\r\n        />\r\n        <button className=\"post__commentBtn\">\r\n          <SendIcon />\r\n        </button>\r\n      </form>\r\n      {isModal && (\r\n        <PostModal post={post} isModal={isModal} setIsModal={setIsModal} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport { db } from \"../firebase/config\";\r\nimport Post from \"./Post\";\r\n\r\nexport default function Posts() {\r\n  const [posts, setPosts] = useState([]);\r\n\r\n  useEffect(() => {\r\n    db.collection(\"posts\")\r\n      .orderBy(\"timestamp\", \"desc\")\r\n      .onSnapshot((snapshot) => {\r\n        setPosts(snapshot.docs.map((doc) => ({ id: doc.id, ...doc.data() })));\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"posts\">\r\n      {posts.length > 0 ? (\r\n        posts.map((post) => <Post post={post} key={post.id} />)\r\n      ) : (\r\n        <div className=\"no__postError\">No posts</div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { useContext } from \"react\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport { Context } from \"../Context/GlobalState\";\r\n\r\nexport default function Sidebar() {\r\n  const { user } = useContext(Context);\r\n\r\n  return (\r\n    <div className=\"sidebar\">\r\n      <div className=\"sidebar__header\">\r\n        <Avatar alt={user?.fullName} src={user?.photoURL} />\r\n        <div className=\"user__info\">\r\n          <h4 className=\"currentUser__username\">{user?.fullName}</h4>\r\n          <p className=\"currentUser__fullName\">{user?.username}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","\r\nimport Navbar from \"./Navbar\";\r\nimport Posts from \"./Posts\";\r\nimport Sidebar from './Sidebar';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <Navbar />\r\n      <div className=\"home__container\">\r\n        <Posts />\r\n        <div className=\"sidebar\">\r\n          <Sidebar />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { useEffect, useContext } from \"react\";\r\nimport InstagramIcon from \"@material-ui/icons/Instagram\";\r\nimport { auth, db } from \"../firebase/config\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Context } from \"../Context/GlobalState\";\r\n\r\nconst LoadingInstagram = () => {\r\n  const history = useHistory();\r\n\r\n  const { setIsPageLoading, setUser } = useContext(Context);\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = auth.onAuthStateChanged((user) => {\r\n      // Get the user document from the firestore corresponding to logged\r\n      // in user's uid\r\n      if (user !== null) {\r\n        db.collection(\"users\")\r\n          .where(\"uid\", \"==\", user.uid)\r\n          .get()\r\n          .then((snapshot) => {\r\n            const currentUser = snapshot.docs.map((doc) => ({\r\n              id: doc.id,\r\n              ...doc.data(),\r\n            }))[0];\r\n\r\n            // Disable page loading and set user to globalstate\r\n            setIsPageLoading(false);\r\n            setUser(currentUser);\r\n\r\n            // Check if user has fullName and username\r\n            // If he/she has then redirect to home page\r\n            // else he/she will remain on set-profile page\r\n            if (\r\n              currentUser &&\r\n              currentUser.fullName.length > 0 &&\r\n              currentUser.username.length > 0\r\n            ) {\r\n              // set the user to global state\r\n\r\n              // Redirect to home page\r\n              history.push(\"/home\");\r\n            } else {\r\n              // Redirect to set-profile page\r\n              history.push(\"/set-profile\");\r\n            }\r\n          });\r\n      } else {\r\n        // Redirect to login page\r\n        history.push(\"/\");\r\n\r\n        // If the user is null, stop the loading\r\n        setIsPageLoading(false);\r\n      }\r\n    });\r\n\r\n    return () => unsubscribe();\r\n  }, [history, setIsPageLoading, setUser]);\r\n\r\n  return (\r\n    <div className=\"instagram__pageLoading\">\r\n      <InstagramIcon style={{ transform: \"scale(2.5)\", color: \"gray\" }} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoadingInstagram;\r\n","import { useState, useContext, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Context } from \"../Context/GlobalState\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport LoadingInstagram from \"./LoadingInstagram\";\r\n\r\nexport default function Login({ history }) {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  // To get the data from the Context\r\n  const {\r\n    login,\r\n    loginWithGoogle,\r\n    isPageLoading,\r\n    setIsPageLoading,\r\n    authError,\r\n    OAuthError,\r\n  } = useContext(Context);\r\n\r\n  useEffect(() => {\r\n    setIsPageLoading(true);\r\n  }, [setIsPageLoading]);\r\n\r\n  const handlelogin = (e) => {\r\n    e.preventDefault();\r\n\r\n    setIsLoading(true);\r\n\r\n    login(\r\n      email,\r\n      password,\r\n      () => history.push(\"/home\"),\r\n      () => setIsLoading(false)\r\n    );\r\n  };\r\n\r\n  const handleGoogleLogin = () => {\r\n    loginWithGoogle(() => history.push(\"/set-profile\"));\r\n  };\r\n\r\n  // To show a loading page when page loads on re-authentication\r\n  if (isPageLoading) {\r\n    return <LoadingInstagram />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"login__container\">\r\n      <h1>Instagram Clone</h1>\r\n      <div className=\"form__area\">\r\n        <div className=\"form\">\r\n          <form onSubmit={handlelogin}>\r\n            <div className=\"form__field\">\r\n              <input\r\n                type=\"email\"\r\n                id=\"Email\"\r\n                name=\"Email\"\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n                required\r\n              />\r\n              <label htmlFor=\"Email\">Email</label>\r\n            </div>\r\n            <div className=\"form__field\">\r\n              <input\r\n                type=\"password\"\r\n                id=\"password\"\r\n                name=\"Password\"\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n                required\r\n              />\r\n              <label htmlFor=\"Password\">Password</label>\r\n            </div>\r\n            <button className=\"primary-insta-btn\" disabled={isLoading}>\r\n              {!isLoading ? (\r\n                \"Log In\"\r\n              ) : (\r\n                <CircularProgress size={20} color=\"inherit\" />\r\n              )}\r\n            </button>\r\n            {authError && (\r\n              <div className=\"auth__error\">\r\n                <small>{authError}</small>\r\n              </div>\r\n            )}\r\n            {OAuthError && (\r\n              <div className=\"auth__error\">\r\n                <small>{OAuthError}</small>\r\n              </div>\r\n            )}\r\n            <div className=\"google__login\">\r\n              <button className=\"btn__authGoogle\" onClick={handleGoogleLogin}>\r\n                Log in with Google\r\n              </button>\r\n            </div>\r\n            <a href=\"#!\" className=\"forgotPassword\">\r\n              Forgot Password?\r\n            </a>\r\n          </form>\r\n        </div>\r\n        <div className=\"signup__area\">\r\n          <p>\r\n            Don't have and account? <Link to=\"/signup\">Signup</Link>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useContext, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Context } from \"../Context/GlobalState\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nexport default function Signup({ history }) {\r\n  const { signup, authError } = useContext(Context);\r\n  const [email, setEmail] = useState(\"\");\r\n  const [username, setUsername] = useState(\"\");\r\n  const [fullName, setFullName] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const handleSignup = (e) => {\r\n    e.preventDefault();\r\n\r\n    setIsLoading(true);\r\n    signup(\r\n      email,\r\n      username,\r\n      fullName,\r\n      password,\r\n      () => history.push(\"/home\"),\r\n      () => setIsLoading(false)\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"signup__container\">\r\n      <h1>Instagram Clone</h1>\r\n      <div className=\"form__area\">\r\n        <div className=\"form\">\r\n          <h4>Sign up to see photos and videos from your friends.</h4>\r\n          <form onSubmit={handleSignup}>\r\n            <div className=\"form__field\">\r\n              <input\r\n                type=\"email\"\r\n                id=\"Email\"\r\n                name=\"Email\"\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n                required\r\n              />\r\n              <label htmlFor=\"Email\">Email</label>\r\n            </div>\r\n            <div className=\"form__field\">\r\n              <input\r\n                type=\"text\"\r\n                id=\"Username\"\r\n                name=\"Username\"\r\n                value={username}\r\n                onChange={(e) => setUsername(e.target.value)}\r\n                required\r\n              />\r\n              <label htmlFor=\"Username\">Username</label>\r\n            </div>\r\n            <div className=\"form__field\">\r\n              <input\r\n                type=\"text\"\r\n                id=\"FullName\"\r\n                name=\"FullName\"\r\n                value={fullName}\r\n                onChange={(e) => setFullName(e.target.value)}\r\n                required\r\n              />\r\n              <label htmlFor=\"FullName\">Full Name</label>\r\n            </div>\r\n            <div className=\"form__field\">\r\n              <input\r\n                type=\"password\"\r\n                id=\"password\"\r\n                name=\"Password\"\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n                required\r\n              />\r\n              <label htmlFor=\"Password\">Password</label>\r\n            </div>\r\n            <button className=\"primary-insta-btn\" disabled={isLoading}>\r\n              {!isLoading ? (\r\n                \"Sign up\"\r\n              ) : (\r\n                <CircularProgress size={20} color=\"inherit\" />\r\n              )}\r\n            </button>\r\n            <div className=\"auth__error\">\r\n              <small>{authError}</small>\r\n            </div>\r\n          </form>\r\n          <p className=\"policies\">\r\n            By signing up, you agree to our Terms , Data Policy and Cookies\r\n            Policy .\r\n          </p>\r\n        </div>\r\n        <div className=\"signup__area\">\r\n          <p>\r\n            Have an account <Link to=\"/\">Log in</Link>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useEffect, useContext } from \"react\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport { db, auth } from \"../firebase/config\";\r\nimport { Context } from \"../Context/GlobalState\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport LoadingInstagram from \"./LoadingInstagram\";\r\n\r\nexport default function SetProfile() {\r\n  const [fullName, setFullName] = useState(\"\");\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const history = useHistory();\r\n\r\n  const { setUser, user, isPageLoading, setIsPageLoading } = useContext(\r\n    Context\r\n  );\r\n\r\n  useEffect(() => {\r\n    setIsPageLoading(true);\r\n  }, [setIsPageLoading]);\r\n\r\n  const handleUpdate = (e) => {\r\n    e.preventDefault();\r\n\r\n    setIsLoading(true);\r\n\r\n    // update user's password\r\n    const currentUser = auth.currentUser;\r\n    currentUser\r\n      .updatePassword(password)\r\n      .then(() => {\r\n        // update user in database\r\n        db.collection(\"users\").doc(user.id).update({\r\n          fullName,\r\n          username,\r\n        });\r\n\r\n        // Update the user in the global state\r\n        setUser((user) => ({ ...user, fullName, username }));\r\n\r\n        setIsLoading(false);\r\n        history.push(\"/home\");\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  if (isPageLoading) {\r\n    return <LoadingInstagram />;\r\n  }\r\n\r\n  return (\r\n    <section className=\"section__setProfile\">\r\n      <div className=\"container\">\r\n        <Avatar src={user.photoURL} />\r\n        <form onSubmit={handleUpdate}>\r\n          <div className=\"form__field\">\r\n            <input\r\n              type=\"text\"\r\n              id=\"FullName\"\r\n              name=\"FullName\"\r\n              value={fullName}\r\n              onChange={(e) => setFullName(e.target.value)}\r\n              required\r\n            />\r\n            <label htmlFor=\"FullName\">Full name</label>\r\n          </div>\r\n          <div className=\"form__field\">\r\n            <input\r\n              type=\"text\"\r\n              id=\"Username\"\r\n              name=\"Username\"\r\n              value={username}\r\n              onChange={(e) => setUsername(e.target.value)}\r\n              required\r\n            />\r\n            <label htmlFor=\"Username\">Username</label>\r\n          </div>\r\n          <div className=\"form__field\">\r\n            <input\r\n              type=\"password\"\r\n              id=\"Password\"\r\n              name=\"Password\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              required\r\n            />\r\n            <label htmlFor=\"Password\">Password</label>\r\n          </div>\r\n          <button className=\"primary-insta-btn\" disabled={isLoading}>\r\n            {!isLoading ? (\r\n              \"Update\"\r\n            ) : (\r\n              <CircularProgress size={20} color=\"inherit\" />\r\n            )}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n","import { useContext } from \"react\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\nimport { Context } from \"./Context/GlobalState\";\r\n\r\nexport const PrivateRoute = ({ component: Component, ...rest }) => {\r\n  const { user } = useContext(Context);\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        user.uid !== undefined ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect to={{ pathname: \"/\", state: { from: props.location } }} />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n","import { Switch, Route } from \"react-router-dom\";\r\nimport Home from \"./components/Home\";\r\nimport Login from \"./components/Login\";\r\nimport Signup from \"./components/Signup\";\r\nimport SetProfile from \"./components/SetProfile\";\r\nimport { PrivateRoute } from \"./PrivateRoute\";\r\nimport \"./assets/css/styles.css\";\r\n\r\nexport default function App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <Switch>\r\n        <Route path=\"/\" component={Login} exact />\r\n        <Route path=\"/signup\" component={Signup} />\r\n        <PrivateRoute path=\"/home\" component={Home} />\r\n        <PrivateRoute path=\"/set-profile\" component={SetProfile} />\r\n      </Switch>\r\n    </div>\r\n  );\r\n}\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport GlobalContext from \"./Context/GlobalState\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Router>\r\n      <GlobalContext>\r\n        <App />\r\n      </GlobalContext>\r\n    </Router>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}